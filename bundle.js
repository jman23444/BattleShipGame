(()=>{"use strict";var e={56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function t(e){for(var t=-1,i=0;i<n.length;i++)if(n[i].identifier===e){t=i;break}return t}function i(e,i){for(var o={},a=[],s=0;s<e.length;s++){var l=e[s],c=i.base?l[0]+i.base:l[0],A=o[c]||0,d="".concat(c," ").concat(A);o[c]=A+1;var p=t(d),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)n[p].references++,n[p].updater(h);else{var u=r(h,i);i.byIndex=s,n.splice(s,0,{identifier:d,updater:u,references:1})}a.push(d)}return a}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var o=i(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=t(o[a]);n[s].references--}for(var l=i(e,r),c=0;c<o.length;c++){var A=t(o[c]);0===n[A].references&&(n[A].updater(),n.splice(A,1))}o=l}}},81:(e,n,t)=>{e.exports=t.p+"b2c8bb4687ea1bc7c5c3.jpg"},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},249:(e,n,t)=>{t.d(n,{A:()=>p});var i=t(354),r=t.n(i),o=t(314),a=t.n(o),s=t(417),l=t.n(s),c=new URL(t(81),t.b),A=a()(r()),d=l()(c);A.push([e.id,`/* General Styles */\n:root {\n  --default-text: #373530;\n  --primary-color: #f5c542;\n  --highlight-color: #f6a600;\n  --grid-bg: #ccc;\n  --cell-bg: #fff;\n  --ship-color: #4caf50;\n  --ship-border: #2e7d32;\n  --preview-valid: #90ee90;\n  --preview-invalid: #ff6347;\n  --hit-color: #ff0000;\n  --miss-color: #d3d3d3;\n  --disabled-bg: #ccc;\n}\n\nbody {\n  background-color: #1a2b3c;\n  color: var(--primary-color);\n  font-family: Arial, sans-serif;\n  text-align: center;\n  margin: 0;\n}\n\n#game-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n}\n\n/* Common Screen Styles */\n#loading-screen,\n#ship-placement-screen,\n#game-screen {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  color: var(--primary-color);\n}\n\n#loading-screen {\n  padding-bottom: 128px;\n  gap: 32px;\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 53.67%), url(${d}) lightgray 50% / cover no-repeat;\n}\n\n#ship-placement-screen {\n  height: auto;\n}\n\n/* Typography */\nh1 {\n  color: var(--highlight-color);\n  -webkit-text-stroke: 2px var(--default-text);\n  font-family: "Inknut Antiqua", serif;\n  font-size: 122px;\n  font-weight: 400;\n  line-height: normal;\n}\n\nh2 {\n  font-size: 2.5rem;\n  margin-bottom: 0.5rem;\n  font-family: "Inknut Antiqua", serif;\n  -webkit-text-stroke: 1px var(--default-text);\n}\n\np {\n  font-size: 1.2rem;\n  margin-bottom: 1.5rem;\n}\n\n#ship-placement-screen p,\n.board-container p {\n  font-family: "Inknut Antiqua", serif;\n}\n\n#turn-message {\n  font-size: 1.5rem;\n}\n\n/* Grid and Board Styles */\n.game-container,\n.boards-container {\n  display: flex;\n  gap: 2rem;\n}\n\n.boards-container {\n  gap: 3rem;\n}\n\n.board-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.grid {\n  display: grid;\n  grid-template: repeat(10, 40px) / repeat(10, 40px);\n  gap: 1px;\n  background-color: var(--grid-bg);\n}\n\n.grid-cell {\n  background-color: var(--cell-bg);\n  border: 1px solid #999;\n}\n\n.grid-cell.occupied {\n  background-color: var(--ship-color);\n}\n\n.grid-cell.preview.valid {\n  background-color: var(--preview-valid);\n}\n\n.grid-cell.preview.invalid {\n  background-color: var(--preview-invalid);\n}\n\n.grid-cell.hit {\n  background-color: var(--hit-color);\n}\n\n.grid-cell.miss {\n  background-color: var(--miss-color);\n}\n\n/* Ship Styles */\n.ship-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.ship {\n  display: inline-flex;\n  flex-direction: row;\n  gap: 1px;\n  cursor: pointer;\n  padding: 0;\n  margin: 0;\n  width: fit-content;\n  height: fit-content;\n}\n\n.ship-segment {\n  width: 40px;\n  height: 40px;\n  background-color: var(--ship-color);\n  border: 1px solid var(--ship-border);\n}\n\n.ship.active {\n  background-color: var(--preview-valid);\n}\n\n.ship.active .ship-segment {\n  background-color: var(--preview-valid);\n}\n\n/* Buttons */\n#start-game,\n#continue-btn {\n  margin-top: 1rem;\n  padding: 0.5rem 1rem;\n  background-color: transparent;\n  border: 2px solid var(--highlight-color);\n  color: var(--highlight-color);\n  font-size: 1.2rem;\n  font-weight: bold;\n  text-transform: uppercase;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n#start-game {\n  font-size: 14px;\n}\n\n#start-game:hover,\n#continue-btn:hover {\n  background-color: var(--highlight-color);\n  color: #000;\n}\n\n#continue-btn:disabled {\n  background-color: var(--disabled-bg);\n  border-color: var(--disabled-bg);\n  color: #1a2b3c;\n  cursor: not-allowed;\n}\n\n/* Error Message */\n#error-message {\n  margin-top: 1rem;\n}`,"",{version:3,sources:["webpack://./src/styles/main.css"],names:[],mappings:"AAAA,mBAAmB;AACnB;EACE,uBAAuB;EACvB,wBAAwB;EACxB,0BAA0B;EAC1B,eAAe;EACf,eAAe;EACf,qBAAqB;EACrB,sBAAsB;EACtB,wBAAwB;EACxB,0BAA0B;EAC1B,oBAAoB;EACpB,qBAAqB;EACrB,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;EACzB,2BAA2B;EAC3B,8BAA8B;EAC9B,kBAAkB;EAClB,SAAS;AACX;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,aAAa;AACf;;AAEA,yBAAyB;AACzB;;;EAGE,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;EACnB,aAAa;EACb,2BAA2B;AAC7B;;AAEA;EACE,qBAAqB;EACrB,SAAS;EACT,4JAAiK;AACnK;;AAEA;EACE,YAAY;AACd;;AAEA,eAAe;AACf;EACE,6BAA6B;EAC7B,4CAA4C;EAC5C,oCAAoC;EACpC,gBAAgB;EAChB,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;EACjB,qBAAqB;EACrB,oCAAoC;EACpC,4CAA4C;AAC9C;;AAEA;EACE,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;;EAEE,oCAAoC;AACtC;;AAEA;EACE,iBAAiB;AACnB;;AAEA,0BAA0B;AAC1B;;EAEE,aAAa;EACb,SAAS;AACX;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,kDAAkD;EAClD,QAAQ;EACR,gCAAgC;AAClC;;AAEA;EACE,gCAAgC;EAChC,sBAAsB;AACxB;;AAEA;EACE,mCAAmC;AACrC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,wCAAwC;AAC1C;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,mCAAmC;AACrC;;AAEA,gBAAgB;AAChB;EACE,aAAa;EACb,sBAAsB;EACtB,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,mBAAmB;EACnB,QAAQ;EACR,eAAe;EACf,UAAU;EACV,SAAS;EACT,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,mCAAmC;EACnC,oCAAoC;AACtC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA,YAAY;AACZ;;EAEE,gBAAgB;EAChB,oBAAoB;EACpB,6BAA6B;EAC7B,wCAAwC;EACxC,6BAA6B;EAC7B,iBAAiB;EACjB,iBAAiB;EACjB,yBAAyB;EACzB,eAAe;EACf,yBAAyB;AAC3B;;AAEA;EACE,eAAe;AACjB;;AAEA;;EAEE,wCAAwC;EACxC,WAAW;AACb;;AAEA;EACE,oCAAoC;EACpC,gCAAgC;EAChC,cAAc;EACd,mBAAmB;AACrB;;AAEA,kBAAkB;AAClB;EACE,gBAAgB;AAClB",sourcesContent:['/* General Styles */\n:root {\n  --default-text: #373530;\n  --primary-color: #f5c542;\n  --highlight-color: #f6a600;\n  --grid-bg: #ccc;\n  --cell-bg: #fff;\n  --ship-color: #4caf50;\n  --ship-border: #2e7d32;\n  --preview-valid: #90ee90;\n  --preview-invalid: #ff6347;\n  --hit-color: #ff0000;\n  --miss-color: #d3d3d3;\n  --disabled-bg: #ccc;\n}\n\nbody {\n  background-color: #1a2b3c;\n  color: var(--primary-color);\n  font-family: Arial, sans-serif;\n  text-align: center;\n  margin: 0;\n}\n\n#game-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n}\n\n/* Common Screen Styles */\n#loading-screen,\n#ship-placement-screen,\n#game-screen {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  color: var(--primary-color);\n}\n\n#loading-screen {\n  padding-bottom: 128px;\n  gap: 32px;\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 53.67%), url(/src/assets/battleshipLoadingScreen.jpg) lightgray 50% / cover no-repeat;\n}\n\n#ship-placement-screen {\n  height: auto;\n}\n\n/* Typography */\nh1 {\n  color: var(--highlight-color);\n  -webkit-text-stroke: 2px var(--default-text);\n  font-family: "Inknut Antiqua", serif;\n  font-size: 122px;\n  font-weight: 400;\n  line-height: normal;\n}\n\nh2 {\n  font-size: 2.5rem;\n  margin-bottom: 0.5rem;\n  font-family: "Inknut Antiqua", serif;\n  -webkit-text-stroke: 1px var(--default-text);\n}\n\np {\n  font-size: 1.2rem;\n  margin-bottom: 1.5rem;\n}\n\n#ship-placement-screen p,\n.board-container p {\n  font-family: "Inknut Antiqua", serif;\n}\n\n#turn-message {\n  font-size: 1.5rem;\n}\n\n/* Grid and Board Styles */\n.game-container,\n.boards-container {\n  display: flex;\n  gap: 2rem;\n}\n\n.boards-container {\n  gap: 3rem;\n}\n\n.board-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.grid {\n  display: grid;\n  grid-template: repeat(10, 40px) / repeat(10, 40px);\n  gap: 1px;\n  background-color: var(--grid-bg);\n}\n\n.grid-cell {\n  background-color: var(--cell-bg);\n  border: 1px solid #999;\n}\n\n.grid-cell.occupied {\n  background-color: var(--ship-color);\n}\n\n.grid-cell.preview.valid {\n  background-color: var(--preview-valid);\n}\n\n.grid-cell.preview.invalid {\n  background-color: var(--preview-invalid);\n}\n\n.grid-cell.hit {\n  background-color: var(--hit-color);\n}\n\n.grid-cell.miss {\n  background-color: var(--miss-color);\n}\n\n/* Ship Styles */\n.ship-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.ship {\n  display: inline-flex;\n  flex-direction: row;\n  gap: 1px;\n  cursor: pointer;\n  padding: 0;\n  margin: 0;\n  width: fit-content;\n  height: fit-content;\n}\n\n.ship-segment {\n  width: 40px;\n  height: 40px;\n  background-color: var(--ship-color);\n  border: 1px solid var(--ship-border);\n}\n\n.ship.active {\n  background-color: var(--preview-valid);\n}\n\n.ship.active .ship-segment {\n  background-color: var(--preview-valid);\n}\n\n/* Buttons */\n#start-game,\n#continue-btn {\n  margin-top: 1rem;\n  padding: 0.5rem 1rem;\n  background-color: transparent;\n  border: 2px solid var(--highlight-color);\n  color: var(--highlight-color);\n  font-size: 1.2rem;\n  font-weight: bold;\n  text-transform: uppercase;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n#start-game {\n  font-size: 14px;\n}\n\n#start-game:hover,\n#continue-btn:hover {\n  background-color: var(--highlight-color);\n  color: #000;\n}\n\n#continue-btn:disabled {\n  background-color: var(--disabled-bg);\n  border-color: var(--disabled-bg);\n  color: #1a2b3c;\n  cursor: not-allowed;\n}\n\n/* Error Message */\n#error-message {\n  margin-top: 1rem;\n}'],sourceRoot:""}]);const p=A},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",i=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),i&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),i&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,i,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var A=[].concat(e[c]);i&&a[A[0]]||(void 0!==o&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=o),t&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=t):A[2]=t),r&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=r):A[4]="".concat(r)),n.push(A))}},n}},354:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),o="/*# ".concat(r," */");return[n].concat([o]).join("\n")}return[n].join("\n")}},417:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},659:e=>{var n={};e.exports=function(e,t){var i=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var i="";t.supports&&(i+="@supports (".concat(t.supports,") {")),t.media&&(i+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(i+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),i+=t.css,r&&(i+="}"),t.media&&(i+="}"),t.supports&&(i+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(i,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},993:(e,n,t)=>{t.d(n,{A:()=>s});var i=t(354),r=t.n(i),o=t(314),a=t.n(o)()(r());a.push([e.id,"/* Reset default browser styles for consistency */\n*,\n*::before,\n*::after {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n/* Remove list styles */\nul,\nol {\n  list-style: none;\n}\n\n/* Remove default hyperlink styles */\na {\n  text-decoration: none;\n  color: inherit;\n}\n\n/* Normalize button and input styles */\nbutton,\ninput,\nselect,\ntextarea {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n  border: none;\n  outline: none;\n  background: none;\n}\n\n/* Remove default button cursor */\nbutton {\n  cursor: pointer;\n}\n\n/* Ensure images are responsive and don't exceed their container */\nimg {\n  max-width: 100%;\n  height: auto;\n  display: block;\n}\n\n/* Normalize typography */\nbody {\n  line-height: 1.6;\n  font-family: Arial, sans-serif;\n}\n\n/* Remove default focus outlines for accessibility-friendly styling */\n:focus {\n  outline: none;\n}","",{version:3,sources:["webpack://./src/styles/reset.css"],names:[],mappings:"AAAA,iDAAiD;AACjD;;;EAGE,SAAS;EACT,UAAU;EACV,sBAAsB;AACxB;;AAEA,uBAAuB;AACvB;;EAEE,gBAAgB;AAClB;;AAEA,oCAAoC;AACpC;EACE,qBAAqB;EACrB,cAAc;AAChB;;AAEA,sCAAsC;AACtC;;;;EAIE,oBAAoB;EACpB,kBAAkB;EAClB,oBAAoB;EACpB,YAAY;EACZ,aAAa;EACb,gBAAgB;AAClB;;AAEA,iCAAiC;AACjC;EACE,eAAe;AACjB;;AAEA,kEAAkE;AAClE;EACE,eAAe;EACf,YAAY;EACZ,cAAc;AAChB;;AAEA,yBAAyB;AACzB;EACE,gBAAgB;EAChB,8BAA8B;AAChC;;AAEA,qEAAqE;AACrE;EACE,aAAa;AACf",sourcesContent:["/* Reset default browser styles for consistency */\n*,\n*::before,\n*::after {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n/* Remove list styles */\nul,\nol {\n  list-style: none;\n}\n\n/* Remove default hyperlink styles */\na {\n  text-decoration: none;\n  color: inherit;\n}\n\n/* Normalize button and input styles */\nbutton,\ninput,\nselect,\ntextarea {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n  border: none;\n  outline: none;\n  background: none;\n}\n\n/* Remove default button cursor */\nbutton {\n  cursor: pointer;\n}\n\n/* Ensure images are responsive and don't exceed their container */\nimg {\n  max-width: 100%;\n  height: auto;\n  display: block;\n}\n\n/* Normalize typography */\nbody {\n  line-height: 1.6;\n  font-family: Arial, sans-serif;\n}\n\n/* Remove default focus outlines for accessibility-friendly styling */\n:focus {\n  outline: none;\n}"],sourceRoot:""}]);const s=a}},n={};function t(i){var r=n[i];if(void 0!==r)return r.exports;var o=n[i]={id:i,exports:{}};return e[i](o,o.exports,t),o.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var i=n.getElementsByTagName("script");if(i.length)for(var r=i.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=i[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,t.nc=void 0;var i=t(72),r=t.n(i),o=t(825),a=t.n(o),s=t(659),l=t.n(s),c=t(56),A=t.n(c),d=t(540),p=t.n(d),h=t(113),u=t.n(h),m=t(249),g={};g.styleTagTransform=u(),g.setAttributes=A(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=p(),r()(m.A,g),m.A&&m.A.locals&&m.A.locals;var C=t(993),f={};f.styleTagTransform=u(),f.setAttributes=A(),f.insert=l().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=p(),r()(C.A,f),C.A&&C.A.locals&&C.A.locals;class E{constructor(e){this.gameController=e,this.grid=document.getElementById("placement-grid"),this.shipList=document.querySelector(".ship-list"),this.continueButton=document.getElementById("continue-btn"),this.errorMessage=document.getElementById("error-message"),this.activeShip=null,this.placedShips=new Map,this.previewCells=[],this.isValidPlacement=!1,this.init()}init(){document.addEventListener("click",(e=>{e.target.closest(".grid")||e.target.closest(".ship")||this.deselectShip()})),this.shipList.addEventListener("click",(e=>{const n=e.target.closest(".ship");n&&(n!==this.activeShip?(this.deselectShip(),this.activeShip=n,n.classList.add("active")):this.toggleOrientation(n))})),this.grid.addEventListener("click",(e=>{const n=e.target.closest(".grid-cell");if(!n)return;const t=parseInt(n.dataset.index),i=this.findShipAtIndex(t);if(console.log("Ship info:",i),i)return this.removeShipFromGrid(i),this.deselectShip(),this.activeShip=document.querySelector(`.ship[data-type="${i.type}"]`),void this.activeShip.classList.add("active");this.activeShip&&this.isValidPlacement&&this.placeShip(t)})),this.grid.addEventListener("mousemove",(e=>{if(!this.activeShip)return;const n=e.target.closest(".grid-cell");if(!n)return;const t=parseInt(n.dataset.index);this.updatePreview(t)})),this.grid.addEventListener("mouseleave",(()=>{this.clearPreview()})),this.continueButton.addEventListener("click",(()=>{this.placedShips.size<5?(this.errorMessage.style.display="block",setTimeout((()=>{this.errorMessage.style.display="none"}),3e3)):this.gameController.showGameplayScreen()}))}toggleOrientation(e){const n=e.dataset.orientation;if(e.dataset.orientation="horizontal"===n?"vertical":"horizontal",e.style.flexDirection="horizontal"===n?"column":"row",this.previewCells.length>0){const e=parseInt(this.previewCells[0].dataset.index);this.updatePreview(e)}}updatePreview(e){this.clearPreview();const n=parseInt(this.activeShip.dataset.size),t=this.activeShip.dataset.orientation,i=this.grid.children;this.previewCells=[],this.isValidPlacement=!0;for(let r=0;r<n;r++){let n=e;if(n="horizontal"===t?e+r:e+10*r,n>=100||"horizontal"===t&&Math.floor(n/10)!==Math.floor(e/10)){this.isValidPlacement=!1;break}const o=i[n];o.classList.contains("occupied")&&(this.isValidPlacement=!1),this.previewCells.push(o)}this.previewCells.forEach((e=>{e.classList.add("preview",this.isValidPlacement?"valid":"invalid")}))}clearPreview(){this.previewCells.forEach((e=>{e.classList.remove("preview","valid","invalid")})),this.previewCells=[],this.isValidPlacement=!1}placeShip(e){const n=this.activeShip.dataset.type,t=this.activeShip.dataset.orientation,i=parseInt(this.activeShip.dataset.size);this.previewCells.forEach((e=>{e.classList.add("occupied"),e.dataset.shipType=n})),this.placedShips.set(n,{position:e,orientation:t,size:i}),this.activeShip.remove(),this.activeShip=null,5===this.placedShips.size&&(this.continueButton.disabled=!1)}findShipAtIndex(e){console.log("Placed ships:",Array.from(this.placedShips.entries()));for(const[n,{position:t,orientation:i,size:r}]of this.placedShips){console.log("Finding ship at index:",e,"for type:",n,"at position:",t,"with orientation:",i,"and size:",r);const o=[];for(let e=0;e<r;e++){let n=t;n="horizontal"===i?t+e:t+10*e,o.push(n)}if(console.log("Indices occupied by this ship:",o),o.includes(e))return{type:n,position:t,orientation:i,size:r}}return null}removeShipFromGrid(e){console.log("Removing ship from grid:",e);const{type:n,position:t,orientation:i,size:r}=e,o=this.grid.children;for(let e=0;e<r;e++){let n=t;n="horizontal"===i?t+e:t+10*e;const r=o[n];r&&(r.classList.remove("occupied","preview","valid","invalid"),delete r.dataset.shipType)}this.placedShips.delete(n);const a=document.createElement("div");a.className="ship",a.dataset.type=n,a.dataset.size=r,a.dataset.orientation="horizontal";for(let e=0;e<r;e++){const e=document.createElement("div");e.className="ship-segment",a.appendChild(e)}this.shipList.appendChild(a),this.continueButton.disabled=this.placedShips.size<5}deselectShip(){this.activeShip&&(this.activeShip.classList.remove("active"),this.activeShip=null),this.clearPreview()}}class v{constructor(){this.grid=Array(10).fill().map((()=>Array(10).fill(null))),this.ships=[]}placeShip(e,n,t,i){const r=[];for(let o=0;o<e.length;o++){const e="horizontal"===i?n:n+o,a="horizontal"===i?t+o:t;if(e>=10||a>=10||null!==this.grid[e][a])return!1;r.push({row:e,col:a})}return r.forEach((({row:n,col:t})=>{this.grid[n][t]=e})),this.ships.push({ship:e,positions:r}),!0}receiveAttack(e,n){if(e<0||e>=10||n<0||n>=10)return!1;const t=this.grid[e][n];return"string"!=typeof t&&(null===t?(this.grid[e][n]="miss",!1):(t.hit(),this.grid[e][n]="hit",!0))}allShipsSunk(){return this.ships.every((({ship:e})=>e.isSunk()))}getSunkShip(e,n){if("hit"!==this.grid[e][n])return null;const t=this.ships.find((({ship:t,positions:i})=>i.some((t=>t.row===e&&t.col===n))));return t&&t.ship.isSunk()?t.ship.type:null}}class B{constructor(e,n){this.type=e,this.length=n,this.hits=0,this.sunk=!1}hit(){this.hits+=1,this.sunk=this.hits===this.length}isSunk(){return this.sunk}}class y{constructor(e,n){this.gameController=e,this.playerBoard=new v,this.enemyBoard=new v,this.currentPlayer="player",this.gameOver=!1,n.forEach((([e,{position:n,orientation:t}])=>{const i=Math.floor(n/10),r=n%10,o=new B(e,{carrier:5,battleship:4,submarine:3,cruiser:3,destroyer:2}[e]);this.playerBoard.placeShip(o,i,r,t)})),[{type:"carrier",length:5},{type:"battleship",length:4},{type:"submarine",length:3},{type:"cruiser",length:3},{type:"destroyer",length:2}].forEach((({type:e,length:n})=>{let t=!1;for(;!t;){const i=Math.floor(10*Math.random()),r=Math.floor(10*Math.random()),o=Math.random()>.5?"horizontal":"vertical",a=new B(e,n);t=this.enemyBoard.placeShip(a,i,r,o)}})),this.init()}init(){const e=document.getElementById("player-grid");for(let n=0;n<10;n++)for(let t=0;t<10;t++){const i=10*n+t,r=e.children[i];this.playerBoard.grid[n][t]instanceof B&&r.classList.add("occupied")}document.getElementById("enemy-grid").addEventListener("click",(e=>{if(this.gameOver||"player"!==this.currentPlayer)return;const n=e.target.closest(".grid-cell");if(!n)return;const t=parseInt(n.dataset.index),i=Math.floor(t/10),r=t%10;this.playerAttack(i,r,n)}))}playerAttack(e,n,t){const i=this.enemyBoard.receiveAttack(e,n);t.classList.add(i?"hit":"miss");const r=this.enemyBoard.getSunkShip(e,n);if(r&&alert(`Enemy's ${r} has been sunk!`),this.enemyBoard.allShipsSunk())return this.gameOver=!0,alert("Player 1 Wins!"),void this.gameController.showGameOverScreen("Player 1");this.currentPlayer="enemy",document.getElementById("turn-message").textContent="Enemy's Turn",setTimeout((()=>this.enemyAttack()),1e3)}enemyAttack(){if(this.gameOver)return;let e,n,t;do{const i=Math.floor(100*Math.random());e=Math.floor(i/10),n=i%10,t=document.getElementById("player-grid").children[i]}while("string"==typeof this.playerBoard.grid[e][n]);const i=this.playerBoard.receiveAttack(e,n);t.classList.add(i?"hit":"miss");const r=this.playerBoard.getSunkShip(e,n);if(r&&alert(`Your ${r} has been sunk!`),this.playerBoard.allShipsSunk())return this.gameOver=!0,alert("Enemy Wins!"),void this.gameController.showGameOverScreen("Enemy");this.currentPlayer="player",document.getElementById("turn-message").textContent="Player 1's Turn"}}class b{constructor(){this.gameContainer=document.getElementById("app")}init(){this.showLoadingScreen()}showLoadingScreen(){this.gameContainer.innerHTML="";const e=(()=>{const e=document.createElement("div");e.id="loading-screen";const n=Object.assign(document.createElement("h1"),{textContent:"BATTLE SHIP"}),t=Object.assign(document.createElement("button"),{id:"start-game",textContent:"START GAME"});return e.append(n,t),e})();this.gameContainer.appendChild(e),document.getElementById("start-game").addEventListener("click",(()=>this.showShipPlacementScreen()))}showShipPlacementScreen(){this.gameContainer.innerHTML="";const e=function(){const e=document.createElement("div");e.id="ship-placement-screen";const n=document.createElement("h2");n.textContent="Position Your Battle Ships",e.appendChild(n);const t=document.createElement("p");t.textContent="Tap To Rotate Ship",e.appendChild(t);const i=document.createElement("div");i.className="game-container";const r=document.createElement("div");r.className="grid",r.id="placement-grid";for(let e=0;e<100;e++){const n=document.createElement("div");n.className="grid-cell",n.dataset.index=e,r.appendChild(n)}i.appendChild(r);const o=document.createElement("div");o.className="ship-list",[{type:"carrier",size:5},{type:"battleship",size:4},{type:"submarine",size:3},{type:"cruiser",size:3},{type:"destroyer",size:2}].forEach((e=>{const n=document.createElement("div");n.className="ship",n.dataset.type=e.type,n.dataset.size=e.size,n.dataset.orientation="horizontal";for(let t=0;t<e.size;t++){const e=document.createElement("div");e.className="ship-segment",n.appendChild(e)}o.appendChild(n)})),i.appendChild(o),e.appendChild(i);const a=document.createElement("button");a.id="continue-btn",a.textContent="Continue",a.disabled=!0,e.appendChild(a);const s=document.createElement("p");return s.id="error-message",s.style.display="none",s.style.color="red",s.textContent="Please place all your ships before continuing.",e.appendChild(s),e}();this.gameContainer.appendChild(e);const n=new E(this);document.getElementById("continue-btn").addEventListener("click",(()=>{5===n.placedShips.size&&(this.placedShips=Array.from(n.placedShips),this.showGameplayScreen())}))}showGameplayScreen(){if(!this.placedShips||0===this.placedShips.length)return void console.error("No ships have been placed. Cannot start gameplay.");this.gameContainer.innerHTML="";const e=function(){const e=document.createElement("div");e.id="game-screen";const n=document.createElement("h2");n.textContent="Battleship - Gameplay",e.appendChild(n);const t=document.createElement("p");t.id="turn-message",t.textContent="Player 1's Turn",e.appendChild(t);const i=document.createElement("div");i.className="boards-container";const r=document.createElement("div");r.className="board-container";const o=document.createElement("p");o.textContent="Your Board",r.appendChild(o);const a=document.createElement("div");a.className="grid",a.id="player-grid";for(let e=0;e<100;e++){const n=document.createElement("div");n.className="grid-cell",n.dataset.index=e,a.appendChild(n)}r.appendChild(a),i.appendChild(r);const s=document.createElement("div");s.className="board-container";const l=document.createElement("p");l.textContent="Enemy Board",s.appendChild(l);const c=document.createElement("div");c.className="grid",c.id="enemy-grid";for(let e=0;e<100;e++){const n=document.createElement("div");n.className="grid-cell",n.dataset.index=e,c.appendChild(n)}return s.appendChild(c),i.appendChild(s),e.appendChild(i),e}();this.gameContainer.appendChild(e),new y(this,this.placedShips)}showGameOverScreen(e){this.gameContainer.innerHTML=`<h2>Game Over - ${e} Wins!</h2>`}}document.addEventListener("DOMContentLoaded",(()=>{(new b).init()}))})();
//# sourceMappingURL=bundle.js.map